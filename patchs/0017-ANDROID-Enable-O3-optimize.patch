From 1868235118f1771d55159ffe6879e4e3a5bc0a3a Mon Sep 17 00:00:00 2001
From: Pavan <98878616+ExWhyZed9@users.noreply.github.com>
Date: Sun, 3 Mar 2024 11:34:34 +0000
Subject: ANDROID: Enable -O3 optimize

---
 arch/arm64/configs/gki_defconfig | 1 +
 init/Kconfig                     | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/arch/arm64/configs/gki_defconfig b/arch/arm64/configs/gki_defconfig
index 28136c6f6435..be30ec55c8bc 100644
--- a/arch/arm64/configs/gki_defconfig
+++ b/arch/arm64/configs/gki_defconfig
@@ -32,6 +32,7 @@ CONFIG_RT_SOFTINT_OPTIMIZATION=y
 # CONFIG_RD_XZ is not set
 # CONFIG_RD_LZO is not set
 CONFIG_BOOT_CONFIG=y
+CONFIG_CC_OPTIMIZE_FOR_PERFORMANCE_O3=y
 # CONFIG_SYSFS_SYSCALL is not set
 # CONFIG_FHANDLE is not set
 CONFIG_KALLSYMS_ALL=y
diff --git a/init/Kconfig b/init/Kconfig
index 3b1595329c96..d6a98fd16311 100644
--- a/init/Kconfig
+++ b/init/Kconfig
@@ -1353,7 +1353,7 @@ config CC_OPTIMIZE_FOR_PERFORMANCE
 
 config CC_OPTIMIZE_FOR_PERFORMANCE_O3
 	bool "Optimize more for performance (-O3)"
-	depends on ARC
+
 	help
 	  Choosing this option will pass "-O3" to your compiler to optimize
 	  the kernel yet more for performance.
-- 
2.43.0

